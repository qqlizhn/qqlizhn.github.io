"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[809],{192:function(t,i,e){e.d(i,{Z:function(){return d}});var s=e(1427),a=e(3370),h=e(699),r=e(1941),n=e(7883),o=e(5503),d=function(t){var i=t.className,e=a.useState(function(){return(0,r.z)()})[0],d=t.id,l=void 0===d?e:d,f=a.useRef({hostId:l,rootRef:a.useRef(null),notifyLayersChanged:function(){}});return a.useImperativeHandle(t.componentRef,function(){return f.current}),a.useEffect(function(){(0,o._Y)(l,f.current),(0,o.EQ)(l)},[]),(0,h.k)(function(){(0,o.nw)(l,f.current),(0,o.EQ)(l)}),a.createElement("div",(0,s.pi)({},t,{className:(0,n.i)("ms-LayerHost",i),ref:f.current.rootRef}))}},6215:function(t){var i,e,s,a,h,r,n,o,d,l,f,c,u,w,p,m,k,g,y,b,v,M,W,U,S,E,L,B,z,A,T,C,I,x,V,O,N,R,F,D,j,$,_,P,H,Q,Y,Z,q,G,J,K,X,tt,ti,te,ts,ta,th,tr,tn,to,td,tl,tf,tc,tu,tw,tp,tm,tk,tg,ty,tb,tv,tM,tW,tU,tS,tE,tL,tB,tz,tA,tT,tC,tI,tx,tV,tO,tN,tR,tF,tD,tj,t$,t_,tP,tH,tQ,tY,tZ,tq,tG,tJ,tK,tX,t1,t0,t2,t8,t4,t7,t3,t6,t9,t5,it,ii,ie,is,ia,ih,ir,io,id,il,ic,iu,iw,ip,im,ik,ig,iy=(tQ=Object.defineProperty,tY=Object.getOwnPropertyDescriptor,tZ=Object.getOwnPropertyNames,tq=Object.getOwnPropertySymbols,tG=Object.prototype.hasOwnProperty,tJ=Object.prototype.propertyIsEnumerable,tK=Math.pow,tX=(t,i,e)=>i in t?tQ(t,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[i]=e,t1=(t,i)=>{for(var e in i||={})tG.call(i,e)&&tX(t,e,i[e]);if(tq)for(var e of tq(i))tJ.call(i,e)&&tX(t,e,i[e]);return t},t0=(t,i,e)=>{if(!i.has(t))throw TypeError("Cannot "+e)},t2=(t,i,e)=>(t0(t,i,"read from private field"),e?e.call(t):i.get(t)),t8=(t,i,e)=>{if(i.has(t))throw TypeError("Cannot add the same private member more than once");i instanceof WeakSet?i.add(t):i.set(t,e)},t4=(t,i,e,s)=>(t0(t,i,"write to private field"),s?s.call(t,e):i.set(t,e),e),t7=(t,i,e)=>(t0(t,i,"access private method"),e),((t,i)=>{for(var e in i)tQ(t,e,{get:i[e],enumerable:!0})})(t3={},{ArrayBufferTarget:()=>is,FileSystemWritableFileStreamTarget:()=>ih,Muxer:()=>ig,StreamTarget:()=>ia}),t6=class{constructor(t){this.value=t}},t9=class{constructor(t){this.value=t}},t5=t=>t<256?1:t<65536?2:t<16777216?3:t<tK(2,32)?4:t<tK(2,40)?5:6,it=t=>{if(t<127)return 1;if(t<16383)return 2;if(t<2097151)return 3;if(t<268435455)return 4;if(t<tK(2,35)-1)return 5;if(t<tK(2,42)-1)return 6;throw Error("EBML VINT size not supported "+t)},ii=(t,i,e)=>{let s=0;for(let a=i;a<e;a++){let i=t[Math.floor(a/8)],e=7-(7&a);s<<=1,s|=(i&1<<e)>>e}return s},ie=(t,i,e,s)=>{for(let a=i;a<e;a++){let i=Math.floor(a/8),h=t[i],r=7-(7&a);h&=~(1<<r),h|=(s&1<<e-a-1)>>e-a-1<<r,t[i]=h}},is=class{constructor(){this.buffer=null}},ia=class{constructor(t,i,e){this.onData=t,this.onDone=i,this.options=e}},ih=class{constructor(t){this.stream=t}},ir=class{constructor(){t8(this,s),t8(this,h),t8(this,n),t8(this,d),t8(this,f),this.pos=0,t8(this,i,new Uint8Array(8)),t8(this,e,new DataView(t2(this,i).buffer)),this.offsets=new WeakMap,this.dataOffsets=new WeakMap}seek(t){this.pos=t}writeEBMLVarInt(t,s=it(t)){let a=0;switch(s){case 1:t2(this,e).setUint8(a++,128|t);break;case 2:t2(this,e).setUint8(a++,64|t>>8),t2(this,e).setUint8(a++,t);break;case 3:t2(this,e).setUint8(a++,32|t>>16),t2(this,e).setUint8(a++,t>>8),t2(this,e).setUint8(a++,t);break;case 4:t2(this,e).setUint8(a++,16|t>>24),t2(this,e).setUint8(a++,t>>16),t2(this,e).setUint8(a++,t>>8),t2(this,e).setUint8(a++,t);break;case 5:t2(this,e).setUint8(a++,8|t/tK(2,32)&7),t2(this,e).setUint8(a++,t>>24),t2(this,e).setUint8(a++,t>>16),t2(this,e).setUint8(a++,t>>8),t2(this,e).setUint8(a++,t);break;case 6:t2(this,e).setUint8(a++,4|t/tK(2,40)&3),t2(this,e).setUint8(a++,t/tK(2,32)|0),t2(this,e).setUint8(a++,t>>24),t2(this,e).setUint8(a++,t>>16),t2(this,e).setUint8(a++,t>>8),t2(this,e).setUint8(a++,t);break;default:throw Error("Bad EBML VINT size "+s)}this.write(t2(this,i).subarray(0,a))}writeEBML(t){var i,e;if(null!==t){if(t instanceof Uint8Array)this.write(t);else if(Array.isArray(t))for(let i of t)this.writeEBML(i);else if(this.offsets.set(t,this.pos),t7(this,d,l).call(this,t.id),Array.isArray(t.data)){let e=this.pos,h=-1===t.size?1:null!=(i=t.size)?i:4;-1===t.size?t7(this,s,a).call(this,255):this.seek(this.pos+h);let r=this.pos;if(this.dataOffsets.set(t,r),this.writeEBML(t.data),-1!==t.size){let t=this.pos-r,i=this.pos;this.seek(e),this.writeEBMLVarInt(t,h),this.seek(i)}}else if("number"==typeof t.data){let i=null!=(e=t.size)?e:t5(t.data);this.writeEBMLVarInt(i),t7(this,d,l).call(this,t.data,i)}else"string"==typeof t.data?(this.writeEBMLVarInt(t.data.length),t7(this,f,c).call(this,t.data)):t.data instanceof Uint8Array?(this.writeEBMLVarInt(t.data.byteLength,t.size),this.write(t.data)):t.data instanceof t6?(this.writeEBMLVarInt(4),t7(this,h,r).call(this,t.data.value)):t.data instanceof t9&&(this.writeEBMLVarInt(8),t7(this,n,o).call(this,t.data.value))}}},i=new WeakMap,e=new WeakMap,s=new WeakSet,a=function(t){t2(this,e).setUint8(0,t),this.write(t2(this,i).subarray(0,1))},h=new WeakSet,r=function(t){t2(this,e).setFloat32(0,t,!1),this.write(t2(this,i).subarray(0,4))},n=new WeakSet,o=function(t){t2(this,e).setFloat64(0,t,!1),this.write(t2(this,i))},d=new WeakSet,l=function(t,s=t5(t)){let a=0;switch(s){case 6:t2(this,e).setUint8(a++,t/tK(2,40)|0);case 5:t2(this,e).setUint8(a++,t/tK(2,32)|0);case 4:t2(this,e).setUint8(a++,t>>24);case 3:t2(this,e).setUint8(a++,t>>16);case 2:t2(this,e).setUint8(a++,t>>8);case 1:t2(this,e).setUint8(a++,t);break;default:throw Error("Bad UINT size "+s)}this.write(t2(this,i).subarray(0,a))},f=new WeakSet,c=function(t){this.write(new Uint8Array(t.split("").map(t=>t.charCodeAt(0))))},io=class extends ir{constructor(t){super(),t8(this,m),t8(this,u,void 0),t8(this,w,new ArrayBuffer(tK(2,16))),t8(this,p,new Uint8Array(t2(this,w))),t4(this,u,t)}write(t){t7(this,m,k).call(this,this.pos+t.byteLength),t2(this,p).set(t,this.pos),this.pos+=t.byteLength}finalize(){t7(this,m,k).call(this,this.pos),t2(this,u).buffer=t2(this,w).slice(0,this.pos)}},u=new WeakMap,w=new WeakMap,p=new WeakMap,m=new WeakSet,k=function(t){let i=t2(this,w).byteLength;for(;i<t;)i*=2;if(i===t2(this,w).byteLength)return;let e=new ArrayBuffer(i),s=new Uint8Array(e);s.set(t2(this,p),0),t4(this,w,e),t4(this,p,s)},id=class extends ir{constructor(t,i){super(),t8(this,g,void 0),t8(this,y,[]),t8(this,b,0),t8(this,v,void 0),t4(this,g,t),t4(this,v,i)}write(t){t2(this,y).push({data:t.slice(),start:this.pos}),this.pos+=t.byteLength}flush(){if(0===t2(this,y).length)return;let t=[],i=[...t2(this,y)].sort((t,i)=>t.start-i.start);t.push({start:i[0].start,size:i[0].data.byteLength});for(let e=1;e<i.length;e++){let s=t[t.length-1],a=i[e];a.start<=s.start+s.size?s.size=Math.max(s.size,a.start+a.data.byteLength-s.start):t.push({start:a.start,size:a.data.byteLength})}for(let i of t){for(let t of(i.data=new Uint8Array(i.size),t2(this,y)))i.start<=t.start&&t.start<i.start+i.size&&i.data.set(t.data,t.start-i.start);if(t2(this,v)&&i.start<t2(this,b))throw Error("Internal error: Monotonicity violation.");t2(this,g).onData(i.data,i.start),t4(this,b,i.start+i.data.byteLength)}t2(this,y).length=0}finalize(){var t,i;null==(i=(t=t2(this,g)).onDone)||i.call(t)}},g=new WeakMap,y=new WeakMap,b=new WeakMap,v=new WeakMap,il=tK(2,24),ic=class extends ir{constructor(t,i){super(),t8(this,E),t8(this,B),t8(this,A),t8(this,C),t8(this,M,void 0),t8(this,W,[]),t8(this,U,0),t8(this,S,void 0),t4(this,M,t),t4(this,S,i)}write(t){t7(this,E,L).call(this,t,this.pos),t7(this,C,I).call(this),this.pos+=t.byteLength}finalize(){var t,i;t7(this,C,I).call(this,!0),null==(i=(t=t2(this,M)).onDone)||i.call(t)}},M=new WeakMap,W=new WeakMap,U=new WeakMap,S=new WeakMap,E=new WeakSet,L=function(t,i){let e=t2(this,W).findIndex(t=>t.start<=i&&i<t.start+il);-1===e&&(e=t7(this,A,T).call(this,i));let s=t2(this,W)[e],a=i-s.start,h=t.subarray(0,Math.min(il-a,t.byteLength));s.data.set(h,a);let r={start:a,end:a+h.byteLength};if(t7(this,B,z).call(this,s,r),0===s.written[0].start&&s.written[0].end===il&&(s.shouldFlush=!0),t2(this,W).length>2){for(let t=0;t<t2(this,W).length-1;t++)t2(this,W)[t].shouldFlush=!0;t7(this,C,I).call(this)}h.byteLength<t.byteLength&&t7(this,E,L).call(this,t.subarray(h.byteLength),i+h.byteLength)},B=new WeakSet,z=function(t,i){let e=0,s=t.written.length-1,a=-1;for(;e<=s;){let h=Math.floor(e+(s-e+1)/2);t.written[h].start<=i.start?(e=h+1,a=h):s=h-1}for(t.written.splice(a+1,0,i),(-1===a||t.written[a].end<i.start)&&a++;a<t.written.length-1&&t.written[a].end>=t.written[a+1].start;)t.written[a].end=Math.max(t.written[a].end,t.written[a+1].end),t.written.splice(a+1,1)},A=new WeakSet,T=function(t){let i={start:Math.floor(t/il)*il,data:new Uint8Array(il),written:[],shouldFlush:!1};return t2(this,W).push(i),t2(this,W).sort((t,i)=>t.start-i.start),t2(this,W).indexOf(i)},C=new WeakSet,I=function(t=!1){for(let i=0;i<t2(this,W).length;i++){let e=t2(this,W)[i];if(e.shouldFlush||t){for(let t of e.written){if(t2(this,S)&&e.start+t.start<t2(this,U))throw Error("Internal error: Monotonicity violation.");t2(this,M).onData(e.data.subarray(t.start,t.end),e.start+t.start),t4(this,U,e.start+t.end)}t2(this,W).splice(i--,1)}}},iu=class extends ic{constructor(t,i){super(new ia((i,e)=>t.stream.write({type:"write",data:i,position:e})),i)}},iw=tK(2,15),ip=tK(2,12),im="https://github.com/Vanilagy/webm-muxer",ik=["strict","offset","permissive"],ig=class{constructor(t){var i;t8(this,te),t8(this,ta),t8(this,tr),t8(this,to),t8(this,tl),t8(this,tc),t8(this,tw),t8(this,tm),t8(this,tg),t8(this,tb),t8(this,tM),t8(this,tU),t8(this,tE),t8(this,tB),t8(this,tA),t8(this,tC),t8(this,tx),t8(this,tO),t8(this,tR),t8(this,tD),t8(this,t$),t8(this,tP),t8(this,x,void 0),t8(this,V,void 0),t8(this,O,void 0),t8(this,N,void 0),t8(this,R,void 0),t8(this,F,void 0),t8(this,D,void 0),t8(this,j,void 0),t8(this,$,void 0),t8(this,_,void 0),t8(this,P,void 0),t8(this,H,void 0),t8(this,Q,void 0),t8(this,Y,0),t8(this,Z,[]),t8(this,q,[]),t8(this,G,void 0),t8(this,J,void 0),t8(this,K,-1),t8(this,X,-1),t8(this,tt,void 0),t8(this,ti,!1),t7(this,te,ts).call(this,t),t4(this,x,t1({type:"webm",firstTimestampBehavior:"strict"},t)),this.target=t.target;let e=!!t2(this,x).streaming;if(t.target instanceof is)t4(this,V,new io(t.target));else if(t.target instanceof ia)t4(this,V,(null==(i=t.target.options)?void 0:i.chunked)?new ic(t.target,e):new id(t.target,e));else if(t.target instanceof ih)t4(this,V,new iu(t.target,e));else throw Error(`Invalid target: ${t.target}`);t7(this,ta,th).call(this)}addVideoChunk(t,i,e){let s=new Uint8Array(t.byteLength);t.copyTo(s),this.addVideoChunkRaw(s,t.type,null!=e?e:t.timestamp,i)}addVideoChunkRaw(t,i,e,s){if(t7(this,tP,tH).call(this),!t2(this,x).video)throw Error("No video track declared.");void 0===t2(this,G)&&t4(this,G,e),s&&t7(this,tE,tL).call(this,s);let a=t7(this,tA,tT).call(this,t,i,e,1);for("V_VP9"===t2(this,x).video.codec&&t7(this,tB,tz).call(this,a),t4(this,K,a.timestamp);t2(this,q).length>0&&t2(this,q)[0].timestamp<=a.timestamp;){let t=t2(this,q).shift();t7(this,tx,tV).call(this,t)}!t2(this,x).audio||a.timestamp<=t2(this,X)?t7(this,tx,tV).call(this,a):t2(this,Z).push(a),t7(this,tM,tW).call(this)}addAudioChunk(t,i,e){let s=new Uint8Array(t.byteLength);t.copyTo(s),this.addAudioChunkRaw(s,t.type,null!=e?e:t.timestamp,i)}addAudioChunkRaw(t,i,e,s){if(t7(this,tP,tH).call(this),!t2(this,x).audio)throw Error("No audio track declared.");void 0===t2(this,J)&&t4(this,J,e),(null==s?void 0:s.decoderConfig)&&(t2(this,x).streaming?t4(this,_,t7(this,tO,tN).call(this,s.decoderConfig.description)):t7(this,tR,tF).call(this,t2(this,_),s.decoderConfig.description));let a=t7(this,tA,tT).call(this,t,i,e,2);for(t4(this,X,a.timestamp);t2(this,Z).length>0&&t2(this,Z)[0].timestamp<=a.timestamp;){let t=t2(this,Z).shift();t7(this,tx,tV).call(this,t)}!t2(this,x).video||a.timestamp<=t2(this,K)?t7(this,tx,tV).call(this,a):t2(this,q).push(a),t7(this,tM,tW).call(this)}finalize(){for(;t2(this,Z).length>0;)t7(this,tx,tV).call(this,t2(this,Z).shift());for(;t2(this,q).length>0;)t7(this,tx,tV).call(this,t2(this,q).shift());if(t2(this,x).streaming||t7(this,t$,t_).call(this),t2(this,V).writeEBML(t2(this,P)),!t2(this,x).streaming){let t=t2(this,V).pos,i=t2(this,V).pos-t2(this,tU,tS);t2(this,V).seek(t2(this,V).offsets.get(t2(this,O))+4),t2(this,V).writeEBMLVarInt(i,6),t2(this,D).data=new t9(t2(this,Y)),t2(this,V).seek(t2(this,V).offsets.get(t2(this,D))),t2(this,V).writeEBML(t2(this,D)),t2(this,R).data[0].data[1].data=t2(this,V).offsets.get(t2(this,P))-t2(this,tU,tS),t2(this,R).data[1].data[1].data=t2(this,V).offsets.get(t2(this,N))-t2(this,tU,tS),t2(this,R).data[2].data[1].data=t2(this,V).offsets.get(t2(this,F))-t2(this,tU,tS),t2(this,V).seek(t2(this,V).offsets.get(t2(this,R))),t2(this,V).writeEBML(t2(this,R)),t2(this,V).seek(t)}t7(this,tM,tW).call(this),t2(this,V).finalize(),t4(this,ti,!0)}},x=new WeakMap,V=new WeakMap,O=new WeakMap,N=new WeakMap,R=new WeakMap,F=new WeakMap,D=new WeakMap,j=new WeakMap,$=new WeakMap,_=new WeakMap,P=new WeakMap,H=new WeakMap,Q=new WeakMap,Y=new WeakMap,Z=new WeakMap,q=new WeakMap,G=new WeakMap,J=new WeakMap,K=new WeakMap,X=new WeakMap,tt=new WeakMap,ti=new WeakMap,te=new WeakSet,ts=function(t){if(t.type&&"webm"!==t.type&&"matroska"!==t.type)throw Error(`Invalid type: ${t.type}`);if(t.firstTimestampBehavior&&!ik.includes(t.firstTimestampBehavior))throw Error(`Invalid first timestamp behavior: ${t.firstTimestampBehavior}`)},ta=new WeakSet,th=function(){t7(this,tr,tn).call(this),t2(this,x).streaming||t7(this,tc,tu).call(this),t7(this,tw,tp).call(this),t7(this,to,td).call(this),t7(this,tl,tf).call(this),t2(this,x).streaming||(t7(this,tm,tk).call(this),t7(this,tg,ty).call(this)),t7(this,tb,tv).call(this),t7(this,tM,tW).call(this)},tr=new WeakSet,tn=function(){var t;let i={id:440786851,data:[{id:17030,data:1},{id:17143,data:1},{id:17138,data:4},{id:17139,data:8},{id:17026,data:null!=(t=t2(this,x).type)?t:"webm"},{id:17031,data:2},{id:17029,data:2}]};t2(this,V).writeEBML(i)},to=new WeakSet,td=function(){t4(this,$,{id:236,size:4,data:new Uint8Array(ip)}),t4(this,_,{id:236,size:4,data:new Uint8Array(ip)})},tl=new WeakSet,tf=function(){t4(this,j,{id:21936,data:[{id:21937,data:2},{id:21946,data:2},{id:21947,data:2},{id:21945,data:0}]})},tc=new WeakSet,tu=function(){let t=new Uint8Array([28,83,187,107]),i=new Uint8Array([21,73,169,102]),e=new Uint8Array([22,84,174,107]);t4(this,R,{id:290298740,data:[{id:19899,data:[{id:21419,data:t},{id:21420,size:5,data:0}]},{id:19899,data:[{id:21419,data:i},{id:21420,size:5,data:0}]},{id:19899,data:[{id:21419,data:e},{id:21420,size:5,data:0}]}]})},tw=new WeakSet,tp=function(){let t={id:17545,data:new t9(0)};t4(this,D,t),t4(this,N,{id:357149030,data:[{id:2807729,data:1e6},{id:19840,data:im},{id:22337,data:im},t2(this,x).streaming?null:t]})},tm=new WeakSet,tk=function(){let t={id:374648427,data:[]};t4(this,F,t),t2(this,x).video&&t.data.push({id:174,data:[{id:215,data:1},{id:29637,data:1},{id:131,data:1},{id:134,data:t2(this,x).video.codec},t2(this,$),t2(this,x).video.frameRate?{id:2352003,data:1e9/t2(this,x).video.frameRate}:null,{id:224,data:[{id:176,data:t2(this,x).video.width},{id:186,data:t2(this,x).video.height},t2(this,x).video.alpha?{id:21440,data:1}:null,t2(this,j)]}]}),t2(this,x).audio&&(t4(this,_,t2(this,x).streaming?t2(this,_)||null:{id:236,size:4,data:new Uint8Array(ip)}),t.data.push({id:174,data:[{id:215,data:2},{id:29637,data:2},{id:131,data:2},{id:134,data:t2(this,x).audio.codec},t2(this,_),{id:225,data:[{id:181,data:new t6(t2(this,x).audio.sampleRate)},{id:159,data:t2(this,x).audio.numberOfChannels},t2(this,x).audio.bitDepth?{id:25188,data:t2(this,x).audio.bitDepth}:null]}]}))},tg=new WeakSet,ty=function(){let t={id:408125543,size:t2(this,x).streaming?-1:6,data:[t2(this,x).streaming?null:t2(this,R),t2(this,N),t2(this,F)]};t4(this,O,t),t2(this,V).writeEBML(t)},tb=new WeakSet,tv=function(){t4(this,P,{id:475249515,data:[]})},tM=new WeakSet,tW=function(){t2(this,V) instanceof id&&t2(this,V).flush()},tU=new WeakSet,tS=function(){return t2(this,V).dataOffsets.get(t2(this,O))},tE=new WeakSet,tL=function(t){if(t.decoderConfig){if(t.decoderConfig.colorSpace){let i=t.decoderConfig.colorSpace;if(t4(this,tt,i),t2(this,j).data=[{id:21937,data:{rgb:1,bt709:1,bt470bg:5,smpte170m:6}[i.matrix]},{id:21946,data:{bt709:1,smpte170m:6,"iec61966-2-1":13}[i.transfer]},{id:21947,data:{bt709:1,bt470bg:5,smpte170m:6}[i.primaries]},{id:21945,data:[1,2][Number(i.fullRange)]}],!t2(this,x).streaming){let t=t2(this,V).pos;t2(this,V).seek(t2(this,V).offsets.get(t2(this,j))),t2(this,V).writeEBML(t2(this,j)),t2(this,V).seek(t)}}t.decoderConfig.description&&(t2(this,x).streaming?t4(this,$,t7(this,tO,tN).call(this,t.decoderConfig.description)):t7(this,tR,tF).call(this,t2(this,$),t.decoderConfig.description))}},tB=new WeakSet,tz=function(t){if("key"!==t.type||!t2(this,tt))return;let i=0;if(2!==ii(t.data,0,2))return;i+=2;let e=(ii(t.data,i+1,i+2)<<1)+ii(t.data,i+0,i+1);i+=2,3===e&&i++;let s=ii(t.data,i+0,i+1);if(i++,s)return;let a=ii(t.data,i+0,i+1);if(i++,0!==a)return;i+=2;let h=ii(t.data,i+0,i+24);if(i+=24,4817730!==h)return;e>=2&&i++;let r={rgb:7,bt709:2,bt470bg:1,smpte170m:3}[t2(this,tt).matrix];ie(t.data,i+0,i+3,r)},tA=new WeakSet,tT=function(t,i,e,s){return{data:t,type:i,timestamp:t7(this,tC,tI).call(this,e,s),trackNumber:s}},tC=new WeakSet,tI=function(t,i){let e=1===i?t2(this,G):t2(this,J),s=1===i?t2(this,K):t2(this,X);if("strict"===t2(this,x).firstTimestampBehavior&&-1===s&&0!==t)throw Error(`The first chunk for your media track must have a timestamp of 0 (received ${t}). Non-zero first timestamps are often caused by directly piping frames or audio data from a MediaStreamTrack into the encoder. Their timestamps are typically relative to the age of the document, which is probably what you want.

If you want to offset all timestamps of a track such that the first one is zero, set firstTimestampBehavior: 'offset' in the options.
If you want to allow non-zero first timestamps, set firstTimestampBehavior: 'permissive'.
`);if("offset"===t2(this,x).firstTimestampBehavior&&(t-=e),t<s)throw Error(`Timestamps must be monotonically increasing (went from ${s} to ${t}).`);return t},tx=new WeakSet,tV=function(t){t2(this,x).streaming&&!t2(this,F)&&(t7(this,tm,tk).call(this),t7(this,tg,ty).call(this));let i=Math.floor(t.timestamp/1e3);if("key"!==t.type&&i-t2(this,Q)>=iw)throw Error(`Current Matroska cluster exceeded its maximum allowed length of ${iw} milliseconds. In order to produce a correct WebM file, you must pass in a video key frame at least every ${iw} milliseconds.`);let e=(1===t.trackNumber||!t2(this,x).video)&&"key"===t.type&&i-t2(this,Q)>=1e3;(!t2(this,H)||e)&&t7(this,tD,tj).call(this,i);let s=new Uint8Array(4),a=new DataView(s.buffer);a.setUint8(0,128|t.trackNumber),a.setUint16(1,i-t2(this,Q),!1),a.setUint8(3,Number("key"===t.type)<<7);let h={id:163,data:[s,t.data]};t2(this,V).writeEBML(h),t4(this,Y,Math.max(t2(this,Y),i))},tO=new WeakSet,tN=function(t){return{id:25506,size:4,data:new Uint8Array(t)}},tR=new WeakSet,tF=function(t,i){let e=t2(this,V).pos;t2(this,V).seek(t2(this,V).offsets.get(t)),t=[t7(this,tO,tN).call(this,i),{id:236,size:4,data:new Uint8Array(ip-2-4-i.byteLength)}],t2(this,V).writeEBML(t),t2(this,V).seek(e)},tD=new WeakSet,tj=function(t){t2(this,H)&&!t2(this,x).streaming&&t7(this,t$,t_).call(this),t4(this,H,{id:524531317,size:t2(this,x).streaming?-1:5,data:[{id:231,data:t}]}),t2(this,V).writeEBML(t2(this,H)),t4(this,Q,t);let i=t2(this,V).offsets.get(t2(this,H))-t2(this,tU,tS);t2(this,P).data.push({id:187,data:[{id:179,data:t},t2(this,x).video?{id:183,data:[{id:247,data:1},{id:241,data:i}]}:null,t2(this,x).audio?{id:183,data:[{id:247,data:2},{id:241,data:i}]}:null]})},t$=new WeakSet,t_=function(){let t=t2(this,V).pos-t2(this,V).dataOffsets.get(t2(this,H)),i=t2(this,V).pos;t2(this,V).seek(t2(this,V).offsets.get(t2(this,H))+4),t2(this,V).writeEBMLVarInt(t,5),t2(this,V).seek(i)},tP=new WeakSet,tH=function(){if(t2(this,ti))throw Error("Cannot add new video or audio chunks after the file has been finalized.")},((t,i,e,s)=>{if(i&&"object"==typeof i||"function"==typeof i)for(let e of tZ(i))tG.call(t,e)||void 0===e||tQ(t,e,{get:()=>i[e],enumerable:!(s=tY(i,e))||s.enumerable});return t})(tQ({},"__esModule",{value:!0}),t3));"object"==typeof t.exports&&(t.exports.Muxer=iy.Muxer,t.exports.ArrayBufferTarget=iy.ArrayBufferTarget,t.exports.StreamTarget=iy.StreamTarget,t.exports.FileSystemWritableFileStreamTarget=iy.FileSystemWritableFileStreamTarget)}}]);
//# sourceMappingURL=809-4f501808bfe04560.js.map
"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[775],{6484:function(t,i,e){e.d(i,{Z:function(){return d}});var s=e(5356),a=e(8451),h=e(4137),r=e(8390),n=e(8174),o=e(1600),d=function(t){var i=t.className,e=a.useState(function(){return(0,r.z)()})[0],d=t.id,l=void 0===d?e:d,f=a.useRef({hostId:l,rootRef:a.useRef(null),notifyLayersChanged:function(){}});return a.useImperativeHandle(t.componentRef,function(){return f.current}),a.useEffect(function(){(0,o._Y)(l,f.current),(0,o.EQ)(l)},[]),(0,h.k)(function(){(0,o.nw)(l,f.current),(0,o.EQ)(l)}),a.createElement("div",(0,s.pi)({},t,{className:(0,n.i)("ms-LayerHost",i),ref:f.current.rootRef}))}},9722:function(t){var i,e,s,a,h,r,n,o,d,l,f,c,u,w,p,m,k,g,y,b,v,M,W,S,U,E,L,z,B,A,T,I,C,x,V,N,O,R,F,D,j,$,_,P,H,Q,Y,Z,q,G,J,K,X,tt,ti,te,ts,ta,th,tr,tn,to,td,tl,tf,tc,tu,tw,tp,tm,tk,tg,ty,tb,tv,tM,tW,tS,tU,tE,tL,tz,tB,tA,tT,tI,tC,tx,tV,tN,tO,tR,tF,tD,tj,t$,t_,tP,tH,tQ,tY,tZ,tq,tG,tJ,tK,tX,t1,t0,t2,t8,t4,t7,t3,t6,t5,t9,it,ii,ie,is,ia,ih,ir,io,id,il,ic,iu,iw,ip,im,ik,ig,iy,ib=(tY=Object.defineProperty,tZ=Object.getOwnPropertyDescriptor,tq=Object.getOwnPropertyNames,tG=Object.getOwnPropertySymbols,tJ=Object.prototype.hasOwnProperty,tK=Object.prototype.propertyIsEnumerable,tX=Math.pow,t1=(t,i,e)=>i in t?tY(t,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[i]=e,t0=(t,i)=>{for(var e in i||={})tJ.call(i,e)&&t1(t,e,i[e]);if(tG)for(var e of tG(i))tK.call(i,e)&&t1(t,e,i[e]);return t},t2=(t,i,e)=>{if(!i.has(t))throw TypeError("Cannot "+e)},t8=(t,i,e)=>(t2(t,i,"read from private field"),e?e.call(t):i.get(t)),t4=(t,i,e)=>{if(i.has(t))throw TypeError("Cannot add the same private member more than once");i instanceof WeakSet?i.add(t):i.set(t,e)},t7=(t,i,e,s)=>(t2(t,i,"write to private field"),s?s.call(t,e):i.set(t,e),e),t3=(t,i,e)=>(t2(t,i,"access private method"),e),((t,i)=>{for(var e in i)tY(t,e,{get:i[e],enumerable:!0})})(t6={},{ArrayBufferTarget:()=>ia,FileSystemWritableFileStreamTarget:()=>ir,Muxer:()=>iy,StreamTarget:()=>ih}),t5=class{constructor(t){this.value=t}},t9=class{constructor(t){this.value=t}},it=t=>t<256?1:t<65536?2:t<16777216?3:t<tX(2,32)?4:t<tX(2,40)?5:6,ii=t=>{if(t<127)return 1;if(t<16383)return 2;if(t<2097151)return 3;if(t<268435455)return 4;if(t<tX(2,35)-1)return 5;if(t<tX(2,42)-1)return 6;throw Error("EBML VINT size not supported "+t)},ie=(t,i,e)=>{let s=0;for(let a=i;a<e;a++){let i=t[Math.floor(a/8)],e=7-(7&a);s<<=1,s|=(i&1<<e)>>e}return s},is=(t,i,e,s)=>{for(let a=i;a<e;a++){let i=Math.floor(a/8),h=t[i],r=7-(7&a);h&=~(1<<r),h|=(s&1<<e-a-1)>>e-a-1<<r,t[i]=h}},ia=class{constructor(){this.buffer=null}},ih=class{constructor(t,i,e){this.onData=t,this.onDone=i,this.options=e}},ir=class{constructor(t,i){this.stream=t,this.options=i}},io=class{constructor(){t4(this,s),t4(this,h),t4(this,n),t4(this,d),t4(this,f),this.pos=0,t4(this,i,new Uint8Array(8)),t4(this,e,new DataView(t8(this,i).buffer)),this.offsets=new WeakMap,this.dataOffsets=new WeakMap}seek(t){this.pos=t}writeEBMLVarInt(t,s=ii(t)){let a=0;switch(s){case 1:t8(this,e).setUint8(a++,128|t);break;case 2:t8(this,e).setUint8(a++,64|t>>8),t8(this,e).setUint8(a++,t);break;case 3:t8(this,e).setUint8(a++,32|t>>16),t8(this,e).setUint8(a++,t>>8),t8(this,e).setUint8(a++,t);break;case 4:t8(this,e).setUint8(a++,16|t>>24),t8(this,e).setUint8(a++,t>>16),t8(this,e).setUint8(a++,t>>8),t8(this,e).setUint8(a++,t);break;case 5:t8(this,e).setUint8(a++,8|t/tX(2,32)&7),t8(this,e).setUint8(a++,t>>24),t8(this,e).setUint8(a++,t>>16),t8(this,e).setUint8(a++,t>>8),t8(this,e).setUint8(a++,t);break;case 6:t8(this,e).setUint8(a++,4|t/tX(2,40)&3),t8(this,e).setUint8(a++,t/tX(2,32)|0),t8(this,e).setUint8(a++,t>>24),t8(this,e).setUint8(a++,t>>16),t8(this,e).setUint8(a++,t>>8),t8(this,e).setUint8(a++,t);break;default:throw Error("Bad EBML VINT size "+s)}this.write(t8(this,i).subarray(0,a))}writeEBML(t){var i,e;if(null!==t){if(t instanceof Uint8Array)this.write(t);else if(Array.isArray(t))for(let i of t)this.writeEBML(i);else if(this.offsets.set(t,this.pos),t3(this,d,l).call(this,t.id),Array.isArray(t.data)){let e=this.pos,h=-1===t.size?1:null!=(i=t.size)?i:4;-1===t.size?t3(this,s,a).call(this,255):this.seek(this.pos+h);let r=this.pos;if(this.dataOffsets.set(t,r),this.writeEBML(t.data),-1!==t.size){let t=this.pos-r,i=this.pos;this.seek(e),this.writeEBMLVarInt(t,h),this.seek(i)}}else if("number"==typeof t.data){let i=null!=(e=t.size)?e:it(t.data);this.writeEBMLVarInt(i),t3(this,d,l).call(this,t.data,i)}else"string"==typeof t.data?(this.writeEBMLVarInt(t.data.length),t3(this,f,c).call(this,t.data)):t.data instanceof Uint8Array?(this.writeEBMLVarInt(t.data.byteLength,t.size),this.write(t.data)):t.data instanceof t5?(this.writeEBMLVarInt(4),t3(this,h,r).call(this,t.data.value)):t.data instanceof t9&&(this.writeEBMLVarInt(8),t3(this,n,o).call(this,t.data.value))}}},i=new WeakMap,e=new WeakMap,s=new WeakSet,a=function(t){t8(this,e).setUint8(0,t),this.write(t8(this,i).subarray(0,1))},h=new WeakSet,r=function(t){t8(this,e).setFloat32(0,t,!1),this.write(t8(this,i).subarray(0,4))},n=new WeakSet,o=function(t){t8(this,e).setFloat64(0,t,!1),this.write(t8(this,i))},d=new WeakSet,l=function(t,s=it(t)){let a=0;switch(s){case 6:t8(this,e).setUint8(a++,t/tX(2,40)|0);case 5:t8(this,e).setUint8(a++,t/tX(2,32)|0);case 4:t8(this,e).setUint8(a++,t>>24);case 3:t8(this,e).setUint8(a++,t>>16);case 2:t8(this,e).setUint8(a++,t>>8);case 1:t8(this,e).setUint8(a++,t);break;default:throw Error("Bad UINT size "+s)}this.write(t8(this,i).subarray(0,a))},f=new WeakSet,c=function(t){this.write(new Uint8Array(t.split("").map(t=>t.charCodeAt(0))))},id=class extends io{constructor(t){super(),t4(this,m),t4(this,u,void 0),t4(this,w,new ArrayBuffer(tX(2,16))),t4(this,p,new Uint8Array(t8(this,w))),t7(this,u,t)}write(t){t3(this,m,k).call(this,this.pos+t.byteLength),t8(this,p).set(t,this.pos),this.pos+=t.byteLength}finalize(){t3(this,m,k).call(this,this.pos),t8(this,u).buffer=t8(this,w).slice(0,this.pos)}},u=new WeakMap,w=new WeakMap,p=new WeakMap,m=new WeakSet,k=function(t){let i=t8(this,w).byteLength;for(;i<t;)i*=2;if(i===t8(this,w).byteLength)return;let e=new ArrayBuffer(i),s=new Uint8Array(e);s.set(t8(this,p),0),t7(this,w,e),t7(this,p,s)},il=class extends io{constructor(t,i){super(),t4(this,g,void 0),t4(this,y,[]),t4(this,b,0),t4(this,v,void 0),t7(this,g,t),t7(this,v,i)}write(t){t8(this,y).push({data:t.slice(),start:this.pos}),this.pos+=t.byteLength}flush(){if(0===t8(this,y).length)return;let t=[],i=[...t8(this,y)].sort((t,i)=>t.start-i.start);t.push({start:i[0].start,size:i[0].data.byteLength});for(let e=1;e<i.length;e++){let s=t[t.length-1],a=i[e];a.start<=s.start+s.size?s.size=Math.max(s.size,a.start+a.data.byteLength-s.start):t.push({start:a.start,size:a.data.byteLength})}for(let i of t){for(let t of(i.data=new Uint8Array(i.size),t8(this,y)))i.start<=t.start&&t.start<i.start+i.size&&i.data.set(t.data,t.start-i.start);if(t8(this,v)&&i.start<t8(this,b))throw Error("Internal error: Monotonicity violation.");t8(this,g).onData(i.data,i.start),t7(this,b,i.start+i.data.byteLength)}t8(this,y).length=0}finalize(){var t,i;null==(i=(t=t8(this,g)).onDone)||i.call(t)}},g=new WeakMap,y=new WeakMap,b=new WeakMap,v=new WeakMap,ic=tX(2,24),iu=class extends io{constructor(t,i){var e,s;if(super(),t4(this,L),t4(this,B),t4(this,T),t4(this,C),t4(this,M,void 0),t4(this,W,void 0),t4(this,S,[]),t4(this,U,0),t4(this,E,void 0),t7(this,M,t),t7(this,W,null!=(s=null==(e=t.options)?void 0:e.chunkSize)?s:ic),t7(this,E,i),!Number.isInteger(t8(this,W))||t8(this,W)<tX(2,10))throw Error("Invalid StreamTarget options: chunkSize must be an integer not smaller than 1024.")}write(t){t3(this,L,z).call(this,t,this.pos),t3(this,C,x).call(this),this.pos+=t.byteLength}finalize(){var t,i;t3(this,C,x).call(this,!0),null==(i=(t=t8(this,M)).onDone)||i.call(t)}},M=new WeakMap,W=new WeakMap,S=new WeakMap,U=new WeakMap,E=new WeakMap,L=new WeakSet,z=function(t,i){let e=t8(this,S).findIndex(t=>t.start<=i&&i<t.start+t8(this,W));-1===e&&(e=t3(this,T,I).call(this,i));let s=t8(this,S)[e],a=i-s.start,h=t.subarray(0,Math.min(t8(this,W)-a,t.byteLength));s.data.set(h,a);let r={start:a,end:a+h.byteLength};if(t3(this,B,A).call(this,s,r),0===s.written[0].start&&s.written[0].end===t8(this,W)&&(s.shouldFlush=!0),t8(this,S).length>2){for(let t=0;t<t8(this,S).length-1;t++)t8(this,S)[t].shouldFlush=!0;t3(this,C,x).call(this)}h.byteLength<t.byteLength&&t3(this,L,z).call(this,t.subarray(h.byteLength),i+h.byteLength)},B=new WeakSet,A=function(t,i){let e=0,s=t.written.length-1,a=-1;for(;e<=s;){let h=Math.floor(e+(s-e+1)/2);t.written[h].start<=i.start?(e=h+1,a=h):s=h-1}for(t.written.splice(a+1,0,i),(-1===a||t.written[a].end<i.start)&&a++;a<t.written.length-1&&t.written[a].end>=t.written[a+1].start;)t.written[a].end=Math.max(t.written[a].end,t.written[a+1].end),t.written.splice(a+1,1)},T=new WeakSet,I=function(t){let i={start:Math.floor(t/t8(this,W))*t8(this,W),data:new Uint8Array(t8(this,W)),written:[],shouldFlush:!1};return t8(this,S).push(i),t8(this,S).sort((t,i)=>t.start-i.start),t8(this,S).indexOf(i)},C=new WeakSet,x=function(t=!1){for(let i=0;i<t8(this,S).length;i++){let e=t8(this,S)[i];if(e.shouldFlush||t){for(let t of e.written){if(t8(this,E)&&e.start+t.start<t8(this,U))throw Error("Internal error: Monotonicity violation.");t8(this,M).onData(e.data.subarray(t.start,t.end),e.start+t.start),t7(this,U,e.start+t.end)}t8(this,S).splice(i--,1)}}},iw=class extends iu{constructor(t,i){var e;super(new ih((i,e)=>t.stream.write({type:"write",data:i,position:e}),void 0,{chunkSize:null==(e=t.options)?void 0:e.chunkSize}),i)}},ip=tX(2,15),im=tX(2,12),ik="https://github.com/Vanilagy/webm-muxer",ig=["strict","offset","permissive"],iy=class{constructor(t){var i;t4(this,ts),t4(this,th),t4(this,tn),t4(this,td),t4(this,tf),t4(this,tu),t4(this,tp),t4(this,tk),t4(this,ty),t4(this,tv),t4(this,tW),t4(this,tU),t4(this,tL),t4(this,tB),t4(this,tT),t4(this,tC),t4(this,tV),t4(this,tO),t4(this,tF),t4(this,tj),t4(this,t_),t4(this,tH),t4(this,V,void 0),t4(this,N,void 0),t4(this,O,void 0),t4(this,R,void 0),t4(this,F,void 0),t4(this,D,void 0),t4(this,j,void 0),t4(this,$,void 0),t4(this,_,void 0),t4(this,P,void 0),t4(this,H,void 0),t4(this,Q,void 0),t4(this,Y,void 0),t4(this,Z,0),t4(this,q,[]),t4(this,G,[]),t4(this,J,void 0),t4(this,K,void 0),t4(this,X,-1),t4(this,tt,-1),t4(this,ti,void 0),t4(this,te,!1),t3(this,ts,ta).call(this,t),t7(this,V,t0({type:"webm",firstTimestampBehavior:"strict"},t)),this.target=t.target;let e=!!t8(this,V).streaming;if(t.target instanceof ia)t7(this,N,new id(t.target));else if(t.target instanceof ih)t7(this,N,(null==(i=t.target.options)?void 0:i.chunked)?new iu(t.target,e):new il(t.target,e));else if(t.target instanceof ir)t7(this,N,new iw(t.target,e));else throw Error(`Invalid target: ${t.target}`);t3(this,th,tr).call(this)}addVideoChunk(t,i,e){let s=new Uint8Array(t.byteLength);t.copyTo(s),this.addVideoChunkRaw(s,t.type,null!=e?e:t.timestamp,i)}addVideoChunkRaw(t,i,e,s){if(t3(this,tH,tQ).call(this),!t8(this,V).video)throw Error("No video track declared.");void 0===t8(this,J)&&t7(this,J,e),s&&t3(this,tL,tz).call(this,s);let a=t3(this,tT,tI).call(this,t,i,e,1);for("V_VP9"===t8(this,V).video.codec&&t3(this,tB,tA).call(this,a),t7(this,X,a.timestamp);t8(this,G).length>0&&t8(this,G)[0].timestamp<=a.timestamp;){let t=t8(this,G).shift();t3(this,tV,tN).call(this,t)}!t8(this,V).audio||a.timestamp<=t8(this,tt)?t3(this,tV,tN).call(this,a):t8(this,q).push(a),t3(this,tW,tS).call(this)}addAudioChunk(t,i,e){let s=new Uint8Array(t.byteLength);t.copyTo(s),this.addAudioChunkRaw(s,t.type,null!=e?e:t.timestamp,i)}addAudioChunkRaw(t,i,e,s){if(t3(this,tH,tQ).call(this),!t8(this,V).audio)throw Error("No audio track declared.");void 0===t8(this,K)&&t7(this,K,e),(null==s?void 0:s.decoderConfig)&&(t8(this,V).streaming?t7(this,P,t3(this,tO,tR).call(this,s.decoderConfig.description)):t3(this,tF,tD).call(this,t8(this,P),s.decoderConfig.description));let a=t3(this,tT,tI).call(this,t,i,e,2);for(t7(this,tt,a.timestamp);t8(this,q).length>0&&t8(this,q)[0].timestamp<=a.timestamp;){let t=t8(this,q).shift();t3(this,tV,tN).call(this,t)}!t8(this,V).video||a.timestamp<=t8(this,X)?t3(this,tV,tN).call(this,a):t8(this,G).push(a),t3(this,tW,tS).call(this)}finalize(){for(;t8(this,q).length>0;)t3(this,tV,tN).call(this,t8(this,q).shift());for(;t8(this,G).length>0;)t3(this,tV,tN).call(this,t8(this,G).shift());if(t8(this,V).streaming||t3(this,t_,tP).call(this),t8(this,N).writeEBML(t8(this,H)),!t8(this,V).streaming){let t=t8(this,N).pos,i=t8(this,N).pos-t8(this,tU,tE);t8(this,N).seek(t8(this,N).offsets.get(t8(this,O))+4),t8(this,N).writeEBMLVarInt(i,6),t8(this,j).data=new t9(t8(this,Z)),t8(this,N).seek(t8(this,N).offsets.get(t8(this,j))),t8(this,N).writeEBML(t8(this,j)),t8(this,F).data[0].data[1].data=t8(this,N).offsets.get(t8(this,H))-t8(this,tU,tE),t8(this,F).data[1].data[1].data=t8(this,N).offsets.get(t8(this,R))-t8(this,tU,tE),t8(this,F).data[2].data[1].data=t8(this,N).offsets.get(t8(this,D))-t8(this,tU,tE),t8(this,N).seek(t8(this,N).offsets.get(t8(this,F))),t8(this,N).writeEBML(t8(this,F)),t8(this,N).seek(t)}t3(this,tW,tS).call(this),t8(this,N).finalize(),t7(this,te,!0)}},V=new WeakMap,N=new WeakMap,O=new WeakMap,R=new WeakMap,F=new WeakMap,D=new WeakMap,j=new WeakMap,$=new WeakMap,_=new WeakMap,P=new WeakMap,H=new WeakMap,Q=new WeakMap,Y=new WeakMap,Z=new WeakMap,q=new WeakMap,G=new WeakMap,J=new WeakMap,K=new WeakMap,X=new WeakMap,tt=new WeakMap,ti=new WeakMap,te=new WeakMap,ts=new WeakSet,ta=function(t){if(t.type&&"webm"!==t.type&&"matroska"!==t.type)throw Error(`Invalid type: ${t.type}`);if(t.firstTimestampBehavior&&!ig.includes(t.firstTimestampBehavior))throw Error(`Invalid first timestamp behavior: ${t.firstTimestampBehavior}`)},th=new WeakSet,tr=function(){t3(this,tn,to).call(this),t8(this,V).streaming||t3(this,tu,tw).call(this),t3(this,tp,tm).call(this),t3(this,td,tl).call(this),t3(this,tf,tc).call(this),t8(this,V).streaming||(t3(this,tk,tg).call(this),t3(this,ty,tb).call(this)),t3(this,tv,tM).call(this),t3(this,tW,tS).call(this)},tn=new WeakSet,to=function(){var t;let i={id:440786851,data:[{id:17030,data:1},{id:17143,data:1},{id:17138,data:4},{id:17139,data:8},{id:17026,data:null!=(t=t8(this,V).type)?t:"webm"},{id:17031,data:2},{id:17029,data:2}]};t8(this,N).writeEBML(i)},td=new WeakSet,tl=function(){t7(this,_,{id:236,size:4,data:new Uint8Array(im)}),t7(this,P,{id:236,size:4,data:new Uint8Array(im)})},tf=new WeakSet,tc=function(){t7(this,$,{id:21936,data:[{id:21937,data:2},{id:21946,data:2},{id:21947,data:2},{id:21945,data:0}]})},tu=new WeakSet,tw=function(){let t=new Uint8Array([28,83,187,107]),i=new Uint8Array([21,73,169,102]),e=new Uint8Array([22,84,174,107]);t7(this,F,{id:290298740,data:[{id:19899,data:[{id:21419,data:t},{id:21420,size:5,data:0}]},{id:19899,data:[{id:21419,data:i},{id:21420,size:5,data:0}]},{id:19899,data:[{id:21419,data:e},{id:21420,size:5,data:0}]}]})},tp=new WeakSet,tm=function(){let t={id:17545,data:new t9(0)};t7(this,j,t),t7(this,R,{id:357149030,data:[{id:2807729,data:1e6},{id:19840,data:ik},{id:22337,data:ik},t8(this,V).streaming?null:t]})},tk=new WeakSet,tg=function(){let t={id:374648427,data:[]};t7(this,D,t),t8(this,V).video&&t.data.push({id:174,data:[{id:215,data:1},{id:29637,data:1},{id:131,data:1},{id:134,data:t8(this,V).video.codec},t8(this,_),t8(this,V).video.frameRate?{id:2352003,data:1e9/t8(this,V).video.frameRate}:null,{id:224,data:[{id:176,data:t8(this,V).video.width},{id:186,data:t8(this,V).video.height},t8(this,V).video.alpha?{id:21440,data:1}:null,t8(this,$)]}]}),t8(this,V).audio&&(t7(this,P,t8(this,V).streaming?t8(this,P)||null:{id:236,size:4,data:new Uint8Array(im)}),t.data.push({id:174,data:[{id:215,data:2},{id:29637,data:2},{id:131,data:2},{id:134,data:t8(this,V).audio.codec},t8(this,P),{id:225,data:[{id:181,data:new t5(t8(this,V).audio.sampleRate)},{id:159,data:t8(this,V).audio.numberOfChannels},t8(this,V).audio.bitDepth?{id:25188,data:t8(this,V).audio.bitDepth}:null]}]}))},ty=new WeakSet,tb=function(){let t={id:408125543,size:t8(this,V).streaming?-1:6,data:[t8(this,V).streaming?null:t8(this,F),t8(this,R),t8(this,D)]};t7(this,O,t),t8(this,N).writeEBML(t)},tv=new WeakSet,tM=function(){t7(this,H,{id:475249515,data:[]})},tW=new WeakSet,tS=function(){t8(this,N) instanceof il&&t8(this,N).flush()},tU=new WeakSet,tE=function(){return t8(this,N).dataOffsets.get(t8(this,O))},tL=new WeakSet,tz=function(t){if(t.decoderConfig){if(t.decoderConfig.colorSpace){let i=t.decoderConfig.colorSpace;if(t7(this,ti,i),t8(this,$).data=[{id:21937,data:{rgb:1,bt709:1,bt470bg:5,smpte170m:6}[i.matrix]},{id:21946,data:{bt709:1,smpte170m:6,"iec61966-2-1":13}[i.transfer]},{id:21947,data:{bt709:1,bt470bg:5,smpte170m:6}[i.primaries]},{id:21945,data:[1,2][Number(i.fullRange)]}],!t8(this,V).streaming){let t=t8(this,N).pos;t8(this,N).seek(t8(this,N).offsets.get(t8(this,$))),t8(this,N).writeEBML(t8(this,$)),t8(this,N).seek(t)}}t.decoderConfig.description&&(t8(this,V).streaming?t7(this,_,t3(this,tO,tR).call(this,t.decoderConfig.description)):t3(this,tF,tD).call(this,t8(this,_),t.decoderConfig.description))}},tB=new WeakSet,tA=function(t){if("key"!==t.type||!t8(this,ti))return;let i=0;if(2!==ie(t.data,0,2))return;i+=2;let e=(ie(t.data,i+1,i+2)<<1)+ie(t.data,i+0,i+1);i+=2,3===e&&i++;let s=ie(t.data,i+0,i+1);if(i++,s)return;let a=ie(t.data,i+0,i+1);if(i++,0!==a)return;i+=2;let h=ie(t.data,i+0,i+24);if(i+=24,4817730!==h)return;e>=2&&i++;let r={rgb:7,bt709:2,bt470bg:1,smpte170m:3}[t8(this,ti).matrix];is(t.data,i+0,i+3,r)},tT=new WeakSet,tI=function(t,i,e,s){return{data:t,type:i,timestamp:t3(this,tC,tx).call(this,e,s),trackNumber:s}},tC=new WeakSet,tx=function(t,i){let e=1===i?t8(this,J):t8(this,K),s=1===i?t8(this,X):t8(this,tt);if("strict"===t8(this,V).firstTimestampBehavior&&-1===s&&0!==t)throw Error(`The first chunk for your media track must have a timestamp of 0 (received ${t}). Non-zero first timestamps are often caused by directly piping frames or audio data from a MediaStreamTrack into the encoder. Their timestamps are typically relative to the age of the document, which is probably what you want.

If you want to offset all timestamps of a track such that the first one is zero, set firstTimestampBehavior: 'offset' in the options.
If you want to allow non-zero first timestamps, set firstTimestampBehavior: 'permissive'.
`);if("offset"===t8(this,V).firstTimestampBehavior&&(t-=e),t<s)throw Error(`Timestamps must be monotonically increasing (went from ${s} to ${t}).`);return t},tV=new WeakSet,tN=function(t){t8(this,V).streaming&&!t8(this,D)&&(t3(this,tk,tg).call(this),t3(this,ty,tb).call(this));let i=Math.floor(t.timestamp/1e3);if("key"!==t.type&&i-t8(this,Y)>=ip)throw Error(`Current Matroska cluster exceeded its maximum allowed length of ${ip} milliseconds. In order to produce a correct WebM file, you must pass in a video key frame at least every ${ip} milliseconds.`);let e=(1===t.trackNumber||!t8(this,V).video)&&"key"===t.type&&i-t8(this,Y)>=1e3;(!t8(this,Q)||e)&&t3(this,tj,t$).call(this,i);let s=new Uint8Array(4),a=new DataView(s.buffer);a.setUint8(0,128|t.trackNumber),a.setUint16(1,i-t8(this,Y),!1),a.setUint8(3,Number("key"===t.type)<<7);let h={id:163,data:[s,t.data]};t8(this,N).writeEBML(h),t7(this,Z,Math.max(t8(this,Z),i))},tO=new WeakSet,tR=function(t){return{id:25506,size:4,data:new Uint8Array(t)}},tF=new WeakSet,tD=function(t,i){let e=t8(this,N).pos;t8(this,N).seek(t8(this,N).offsets.get(t)),t=[t3(this,tO,tR).call(this,i),{id:236,size:4,data:new Uint8Array(im-2-4-i.byteLength)}],t8(this,N).writeEBML(t),t8(this,N).seek(e)},tj=new WeakSet,t$=function(t){t8(this,Q)&&!t8(this,V).streaming&&t3(this,t_,tP).call(this),t7(this,Q,{id:524531317,size:t8(this,V).streaming?-1:5,data:[{id:231,data:t}]}),t8(this,N).writeEBML(t8(this,Q)),t7(this,Y,t);let i=t8(this,N).offsets.get(t8(this,Q))-t8(this,tU,tE);t8(this,H).data.push({id:187,data:[{id:179,data:t},t8(this,V).video?{id:183,data:[{id:247,data:1},{id:241,data:i}]}:null,t8(this,V).audio?{id:183,data:[{id:247,data:2},{id:241,data:i}]}:null]})},t_=new WeakSet,tP=function(){let t=t8(this,N).pos-t8(this,N).dataOffsets.get(t8(this,Q)),i=t8(this,N).pos;t8(this,N).seek(t8(this,N).offsets.get(t8(this,Q))+4),t8(this,N).writeEBMLVarInt(t,5),t8(this,N).seek(i)},tH=new WeakSet,tQ=function(){if(t8(this,te))throw Error("Cannot add new video or audio chunks after the file has been finalized.")},((t,i,e,s)=>{if(i&&"object"==typeof i||"function"==typeof i)for(let e of tq(i))tJ.call(t,e)||void 0===e||tY(t,e,{get:()=>i[e],enumerable:!(s=tZ(i,e))||s.enumerable});return t})(tY({},"__esModule",{value:!0}),t6));"object"==typeof t.exports&&(t.exports.Muxer=ib.Muxer,t.exports.ArrayBufferTarget=ib.ArrayBufferTarget,t.exports.StreamTarget=ib.StreamTarget,t.exports.FileSystemWritableFileStreamTarget=ib.FileSystemWritableFileStreamTarget)}}]);
//# sourceMappingURL=775-b4578f526bdf9d68.js.map
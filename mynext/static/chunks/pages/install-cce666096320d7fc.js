(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[768],{247:function(e,s,i){(window.mynext_P=window.mynext_P||[]).push(["/install",function(){return i(1822)}])},1822:function(e,s,i){"use strict";i.r(s);var t,l,a=i(7074),n=i(6749),o=i(7342),r=i(3817),p=i(5236),d=i(8408),g=i(7614),h=i(7131),c=i(2626),u=i(1105),z=i.n(u),w=i(8742),m=i(4754);(t=l||(l={}))[t.Uploading=0]="Uploading",t[t.Installing=1]="Installing",t[t.Completed=2]="Completed";let f=new class{constructor(){this.installing=!1,this.progress=void 0,this.log="",this.options={bypassLowTargetSdkBlock:!1},this.install=async()=>{let e=await (0,m.oT)({accept:".apk"});if(!e)return;(0,h.z)(()=>{this.installing=!0,this.progress={filename:e.name,stage:l.Uploading,uploadedSize:0,totalSize:e.size,value:0},this.log=""});let s=new d.LE(w.GLOBAL_STATE.adb),i=Date.now();await s.installStream(e.size,(0,m.Xd)(e).pipeThrough(new g.WrapConsumableStream).pipeThrough(new m.hK((0,h.aD)(s=>{s!==e.size?this.progress={filename:e.name,stage:l.Uploading,uploadedSize:s,totalSize:e.size,value:s/e.size*.8}:this.progress={filename:e.name,stage:l.Installing,uploadedSize:s,totalSize:e.size,value:.8}}))));let t=Date.now()-i,a=(e.size/(t/1e3)/1024/1024).toFixed(2);this.log+="Install finished in ".concat(t,"ms at ").concat(a,"MB/s"),(0,h.z)(()=>{this.progress={filename:e.name,stage:l.Completed,uploadedSize:e.size,totalSize:e.size,value:1},this.installing=!1})},(0,h.ky)(this,{progress:h.LO.ref,install:!1,options:h.LO.deep})}};s.default=(0,c.Pi)(()=>(0,a.jsxs)(n.K,{...m.LE,children:[(0,a.jsx)(z(),{children:(0,a.jsx)("title",{children:"Install APK - Tango"})}),(0,a.jsx)(n.K,{horizontal:!0,children:(0,a.jsx)(o.X,{label:"--bypass-low-target-sdk-block (Android 14)",checked:f.options.bypassLowTargetSdkBlock,onChange:(e,s)=>{void 0!==s&&(0,h.z)(()=>{f.options.bypassLowTargetSdkBlock=s})}})}),(0,a.jsx)(n.K,{horizontal:!0,children:(0,a.jsx)(r.K,{disabled:!w.GLOBAL_STATE.adb||f.installing,text:"Browse APK",onClick:f.install})}),f.progress&&(0,a.jsx)(p.Y,{styles:{root:{width:300}},label:f.progress.filename,percentComplete:f.progress.value,description:l[f.progress.stage]}),f.log&&(0,a.jsx)("pre",{children:f.log})]}))}},function(e){e.O(0,[774,888,179],function(){return e(e.s=247)}),_N_E=e.O()}]);
//# sourceMappingURL=install-cce666096320d7fc.js.map